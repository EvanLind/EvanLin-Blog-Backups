Vim

vim是从 vi 发展出来的一个文本编辑器。代码补全、编译及错误跳转等方便编程的功能特别丰富，在程序员中被广泛使用，和Emacs并列成为类Unix系统用户最喜欢的文本编辑器。vim设计之初就是整个文本编辑都用键盘而非鼠标来完成，键盘上几乎每个键都有固定的用法，且vim的制作者希望用户在普通模式（也就是命令模式，只可输入命令）完成大部分的编辑工作，vim有过百条命令对应编辑的需要，如果能熟练使用vim这些命令，编辑速度确实比鼠标要快很多，但是想全都记住它们也是一件难事，我想记住它们最好的方法就是多多来练习，确实把vim用在日常的文本编辑中去，且遇到难题不要放弃，而是查找解决的方法，每解决一个难题，你的vim技能就上升一级。本文收集了常用的一些Vim命令用法，推荐使用 Ctrl + f 来查找相关命令，初学者可以先在 shell 下输入 :vimtutor 来将Vim大概过一遍，在日常使用过程中再进一步巩固。

 

 

启动vim

在命令行窗口中输入以下命令即可

vim           直接启动vim
vim filename  打开修改filename，若文件不存在则创建名为filename的文件
命令历史

以:和/开头的命令都有历史纪录，可以首先键入:或/然后按上下箭头来选择某个历史命令。
文件命令

vim file                  打开单个文件
vim file1 file2 file3...   同时打开多个文件
:open file                在vim窗口中打开一个新文件
:split file               在新窗口中打开文件
:bn                       切换到下一个文件
:bp                       切换到上一个文件
:args                     查看当前打开的文件列表，当前正在编辑的文件会用[]括起来。
:e ftp://x.x.x.x/abc.txt  打开远程文件，比如ftp或者share folder
vim的模式

Esc 或 Ctrl+[  正常模式，左下角显示文件名或为空
按 i 键进入    插入模式，左下角显示--INSERT--
Ctrl+v         可视模式，左下角显示--VISUAL--
导航命令

% 括号匹配
插入命令

i  在当前位置生前插入
I  在当前行首插入
a  在当前位置后插入
A  在当前行尾插入
o  在当前行之后插入一行
O  在当前行之前插入一行
查找命令

/text　　            查找text，按n健查找下一个，按N健查找前一个
?text　　            查找text，反向查找，按n健查找下一个，按N健查找前一个
*或#                 光标移动到该词上，按*或#键即可以该单词进行搜索。*相当于/搜索，而#命令相当于?搜索。
:set ignorecase　　  忽略大小写的查找
:set noignorecase　　不忽略大小写的查找
:set hlsearch　　    高亮搜索结果，所有结果都高亮显示，而不是只显示一个匹配
:set nohlsearch　　  关闭高亮搜索显示
:nohlsearch　　      关闭当前的高亮显示，如果再次搜索或者按下n或N键，则会再次高亮
:set incsearch　　   逐步搜索模式，对当前键入的字符进行搜索而不必等待键入完成
:set wrapscan　　    重新搜索，在搜索到文件头或尾时，返回继续搜索，默认开启
替换命令

ra             将当前字符替换为a，当期字符即光标所在字符
s/old/new/        用old替换new，替换当前行的第一个匹配
s/old/new/g       用old替换new，替换当前行的所有匹配
%s/old/new/       用old替换new，替换所有行的第一个匹配
%s/old/new/g      用old替换new，替换整个文件的所有匹配
:10,20 s/^/  /g   在第10行知第20行每行前面加四个空格，用于缩进
ddp            交换光标所在行和其下紧邻的一行
移动命令

h        左移一个字符，5h向左移动5个字符，<Esc>后生效
l        右移一个字符，相当于方向键向右的作用
k        上移一个字符
j        下移一个字符，20j就是向下移动20行
w         向前移动一个单词，光标停在单词首部
e         向前移动一个单词，光标停在单词尾部
b         向后移动一个单词，2b 向后移动2个单词
ge        同b，光标停在单词尾部。
^         移动到本行第一个非空白字符上。
0        （数字0）移动到本行第一个字符上，
<HOME>    移动到本行第一个字符。同0健。
$         移动到行尾 3$ 移动到下面3行的行尾
gg        移动到文件头， = [[
G         移动到文件尾， = ]]
f + x     将找到本行内光标后第一个为x的字符，3fd将找到第三个为d的字符
F         同f，反向查找
: + n     跳到第n行就是
n + G     比如 230G 跳到230行
Ctrl + e  向下滚动一行
Ctrl + y  向上滚动一行
Ctrl + d  向下滚动半屏
Ctrl + u  向上滚动半屏
Ctrl + f  向下滚动一屏
Ctrl + b  向上滚动一屏
撤销和重做

u         撤销（Undo）
U         撤销对整行的操作
Ctrl + r  重做（Redo），即撤销的撤销
删除命令

x       删除当前字符
3x      删除当前光标开始向后三个字符
X       删除当前字符的前一个字符，X = dh
dl      删除当前字符， dl = x
dh      删除前一个字符
dd      删除当前行
dj      删除上一行
dk      删除下一行
10d     删除当前行开始的10行
D       删除当前字符至行尾，D=d$
d$      删除本行内当前字符之后的所有字符
kdgg    删除当前行之前所有行
jdG    删除当前行之后所有行
:1,10d  删除1-10行
:n,$d   删除第 n 行及以后所有的行
J       删除两行之间的空行，实际上是合并两行。
拷贝和粘贴

yy         拷贝当前行
nyy        拷贝当前后开始的n行，比如2yy拷贝当前行及其下一行
p         在当前光标后粘贴,如果之前使用了yy命令来复制一行，那么就在当前行的下一行粘贴
shift+p    在当前行前粘贴
:1,10 co   20 将1-10行插入到第20行之后
:1,$ co $  将整个文件复制一份并添加到文件尾部
v + y      进入可视模式，选择某些行或字符后，再按 y 即可复制
ddp        交换当前行和其下一行
xp         交换当前字符和其后一个字符
剪切命令

d + y       进入可视模式，选择某些行或字符后，再按 d 即可剪切
ndd         剪切当前行之后的n行。利用p命令可以对剪切的内容进行粘贴
:1,10d      将1-10行剪切。利用p命令可将剪切后的内容进行粘贴。
:1,10 m 20  将第1-10行移动到第20行之后。
退出命令

:wq  保存并退出 = :x
ZZ   保存并退出
:q!  强制退出并忽略所有更改
:e!  放弃所有修改，并打开原来文件
窗口命令

:split       打开一个新窗口，光标停在顶层的窗口上， = new
:split file  用新窗口打开文件， = :new file
split        打开的窗口都是横向的，使用vsplit可以纵向打开窗口
Ctrl+ww      移动到下一个窗口
Ctrl+wj      移动到下方的窗口
Ctrl+wk      移动到上方的窗口
:close       最后一个窗口不能使用此命令，可以防止意外退出vim
:q           如果是最后一个被关闭的窗口，那么将退出vim
执行shell命令

:!ls                 列出当前目录下文件
:!perl -c script.pl  检查perl脚本语法，可以不用退出vim
:!perl script.pl     执行perl脚本，可以不用退出vim
:suspend或Ctrl - Z   挂起vim，回到shell，按fg可以返回vim
注释命令

3,5 s/^/#/g  注释第3-5行
3,5 s/^#//g  解除3-5行的注释
1,$ s/^/#/g  注释整个文档
:%s/^/#/g    注释整个文档，此法更快
v + I        v进入可视模式，选择多行，按 I，输入注释符号，<Esc>退出
帮助命令

:help or F1     显示整个帮助
:help xxx       显示xxx的帮助，比如 :help i, :help CTRL-[（即Ctrl+[的帮助）。
:help 'number'  Vim选项的帮助用单引号括起
:help <Esc>     特殊键的帮助用<>扩起
:help -t        Vim启动参数的帮助用-
:help i_<Esc>   插入模式下Esc的帮助，某个模式下的帮助用模式_主题的模式
Ctrl+]          进入帮助文件中位于||之间的超链接，Ctrl+o（Ctrl + t）返回
如有任何疑问请留言

EvanLin
著作权归作者所有，转载请联系作者获得授权，并标注原文链接。
 

 